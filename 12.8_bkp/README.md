# Домашнее задание к занятию "`12.7. "Репликация и масштабирование. Часть 2"`" - Овчинников Денис

---

### Задание 1

---
### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.
1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

`Для восстановления данных в полном объеме за предыдущий день необходимо бэкапиться каждый день. Если ценность данных высока и позволяют объемы хранилки, то лучше делать full бэкап раз в день. При таком подходе страдает скорость восстановления, поэтому если это критично, то можно делать full бэкап раз в неделю и diff каждый день. 
Для восстановления данных в полном объеме за час необходимо делать full бэкап каждый день и diff или инкремент каждый час.`

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.
  
`Репликация по схеме master-slave.`

---

### Задание 2

---
2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

`Резевная копия: $ pg_dump -Fc mydb > db.dump`

`Восстановление из резервной копии: $ pg_restore -C -d postgres db.dump`


2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?

`Скрипт и планировщик`

---

### Задание 3

---
3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

`Для этого используется SQL-команда SELECT INTO OUTFILE и парная ей LOAD DATA INFILE *`

3.1.* В каких случаях использование реплики будет давать преимущество по сравнению с обычным резервным копированием?

`В случаях когда требуется непрерывный доступ к базе и нет окон обслуживания`

---
